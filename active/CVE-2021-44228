PublicDateAtUSN: 2021-12-10 00:00:00 UTC
Candidate: CVE-2021-44228
PublicDate: 2021-12-10 10:15:00 UTC
References:
 https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/Log4Shell
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228
 https://github.com/apache/logging-log4j2/pull/608
 https://github.com/apache/logging-log4j2/commit/c77b3cb39312b83b053d23a2158b99ac7de44dd3
 https://github.com/tangxiaofeng7/apache-log4j-poc
 https://github.com/advisories/GHSA-jfh8-c2jp-5v3q
 https://ubuntu.com/security/notices/USN-5192-1
 https://ubuntu.com/security/notices/USN-5197-1
 https://ubuntu.com/security/notices/USN-5192-2
Description:
 Apache Log4j2 <=2.14.1 JNDI features used in configuration, log messages,
 and parameters do not protect against attacker controlled LDAP and other
 JNDI related endpoints. An attacker who can control log messages or log
 message parameters can execute arbitrary code loaded from LDAP servers when
 message lookup substitution is enabled. From log4j 2.15.0, this behavior
 has been disabled by default. In previous releases (>2.10) this behavior
 can be mitigated by setting system property "log4j2.formatMsgNoLookups" to
 “true” or it can be mitigated in prior releases (<2.10) by removing the
 JndiLookup class from the classpath (example: zip -q -d log4j-core-*.jar
 org/apache/logging/log4j/core/lookup/JndiLookup.class).
Ubuntu-Description:
Notes:
 mdeslaur> apache-log4j1.2 contains a similar issue in a non-default
  configuration, and it was assigned CVE-2021-4104, see that CVE for
  information about apache-log4j1.2
Mitigation:
 For apache2-log4j2 versions >= 2.10, set:
   log4j2.formatMsgNoLookups=true
Bugs:
Priority: high
Discovered-by: Chen Zhaojun
Assigned-to: pfsmorigo
CVSS:
 asf: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H
 nvd: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H

Patches_apache-log4j2:
 upstream: https://github.com/apache/logging-log4j2/commit/c77b3cb39312b83b053d23a2158b99ac7de44dd3
upstream_apache-log4j2: released (2.15.0)
trusty_apache-log4j2: ignored (out of standard support)
xenial_apache-log4j2: ignored (out of standard support)
esm-infra/xenial_apache-log4j2: released (2.4-2ubuntu0.1~esm1)
bionic_apache-log4j2: released (2.10.0-2ubuntu0.1)
focal_apache-log4j2: released (2.15.0-0.20.04.1)
hirsute_apache-log4j2: released (2.15.0-0.21.04.1)
impish_apache-log4j2: released (2.15.0-0.21.10.1)
devel_apache-log4j2: not-affected (2.15.0-1)
