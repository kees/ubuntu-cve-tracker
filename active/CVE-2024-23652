Candidate: CVE-2024-23652
PublicDate: 2024-02-13
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-23652
 https://github.com/moby/buildkit/security/advisories/GHSA-4v98-7qmw-rqr8
 https://github.com/moby/buildkit/pull/4603
 https://github.com/moby/buildkit/releases/tag/v0.12.5
Description:
 BuildKit is a toolkit for converting source code to build artifacts in an
 efficient, expressive and repeatable manner. A malicious BuildKit frontend
 or Dockerfile using RUN --mount could trick the feature that removes empty
 files created for the mountpoints into removing a file outside the
 container, from the host system. The issue has been fixed in v0.12.5.
 Workarounds include avoiding using BuildKit frontends from an untrusted
 source or building an untrusted Dockerfile containing RUN --mount feature.
Ubuntu-Description:
Notes:
 alexmurray> Traditionally the docker.io source package contained both the
 alexmurray> library and docker application. However, in releases that
 alexmurray> contain the
 alexmurray> docker.io-app source package, the docker.io source package
 alexmurray> contains only
 alexmurray> the library whilst the docker application itself is contained
 alexmurray> in the
 alexmurray> docker.io-app package.
 sbeattie> docker packages contain an embedded copy of github:moby/buildkit
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to: 0xnishit
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:H [9.1 CRITICAL]


Patches_docker.io:
 upstream: https://github.com/moby/buildkit/pull/4603/commits/23bebc4a180b84ba18733f545e7559e10c439ac3
upstream_docker.io: needs-triage
trusty_docker.io: ignored (end of standard support)
xenial_docker.io: ignored (end of standard support)
esm-apps/xenial_docker.io: needs-triage
bionic_docker.io: ignored (end of standard support)
esm-apps/bionic_docker.io: needs-triage
focal_docker.io: needs-triage
esm-apps/focal_docker.io: needs-triage
jammy_docker.io: needs-triage
esm-apps/jammy_docker.io: needs-triage
mantic_docker.io: needs-triage
devel_docker.io: needs-triage

Patches_docker.io-app:
upstream_docker.io-app: needs-triage
trusty_docker.io-app: ignored (end of standard support)
xenial_docker.io-app: DNE
bionic_docker.io-app: DNE
focal_docker.io-app: needs-triage
jammy_docker.io-app: needs-triage
mantic_docker.io-app: needs-triage
devel_docker.io-app: needs-triage
