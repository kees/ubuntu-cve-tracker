Candidate: CVE-2022-39250
PublicDate: 2022-09-29 13:15:00 UTC
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-39250
 https://github.com/matrix-org/matrix-js-sdk/commit/a587d7c36026fe1fcf93dfff63588abee359be76
 https://github.com/matrix-org/matrix-js-sdk/releases/tag/v19.7.0
 https://matrix.org/blog/2022/09/28/upgrade-now-to-address-encryption-vulns-in-matrix-sdks-and-clients
 https://github.com/matrix-org/matrix-js-sdk/security/advisories/GHSA-5w8r-8pgj-5jmf
Description:
 Matrix JavaScript SDK is the Matrix Client-Server software development kit
 (SDK) for JavaScript. Prior to version 19.7.0, an attacker cooperating with
 a malicious homeserver could interfere with the verification flow between
 two users, injecting its own cross-signing user identity in place of one of
 the usersâ€™ identities. This would lead to the other device
 trusting/verifying the user identity under the control of the homeserver
 instead of the intended one. The vulnerability is a bug in the
 matrix-js-sdk, caused by checking and signing user identities and devices
 in two separate steps, and inadequately fixing the keys to be signed
 between those steps. Even though the attack is partly made possible due to
 the design decision of treating cross-signing user identities as Matrix
 devices on the server side (with their device ID set to the public part of
 the user identity key), no other examined implementations were vulnerable.
 Starting with version 19.7.0, the matrix-js-sdk has been modified to double
 check that the key signed is the one that was verified instead of just
 referencing the key by ID. An additional check has been made to report an
 error when one of the device ID matches a cross-signing key. As this attack
 requires coordination between a malicious homeserver and an attacker, those
 who trust their homeservers do not need a particular workaround.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:

Patches_node-matrix-js-sdk:
upstream_node-matrix-js-sdk: needs-triage
trusty_node-matrix-js-sdk: ignored (out of standard support)
xenial_node-matrix-js-sdk: ignored (out of standard support)
bionic_node-matrix-js-sdk: DNE
focal_node-matrix-js-sdk: needs-triage
jammy_node-matrix-js-sdk: needs-triage
devel_node-matrix-js-sdk: needs-triage
