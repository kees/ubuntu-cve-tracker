Candidate: CVE-2024-23651
PublicDate: 2024-02-13
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-23651
 https://github.com/moby/buildkit/security/advisories/GHSA-m3r6-h7wv-7xxv
 https://github.com/moby/buildkit/pull/4604
 https://github.com/moby/buildkit/releases/tag/v0.12.5
 https://www.openwall.com/lists/oss-security/2019/05/28/1
Description:
 BuildKit is a toolkit for converting source code to build artifacts in an
 efficient, expressive and repeatable manner. Two malicious build steps
 running in parallel sharing the same cache mounts with subpaths could cause
 a race condition that can lead to files from the host system being
 accessible to the build container. The issue has been fixed in v0.12.5.
 Workarounds include, avoiding using BuildKit frontend from an untrusted
 source or building an untrusted Dockerfile containing cache mounts with
 --mount=type=cache,source=... options.
 
Ubuntu-Description:
Notes:
 alexmurray> Traditionally the docker.io source package contained both the
 alexmurray> library and docker application. However, in releases that
 alexmurray> contain the
 alexmurray> docker.io-app source package, the docker.io source package
 alexmurray> contains only
 alexmurray> the library whilst the docker application itself is contained
 alexmurray> in the
 alexmurray> docker.io-app package.
 sbeattie> docker packages contain an embedded copy of github:moby/buildkit
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to: 0xnishit
CVSS:
 nvd: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:N [7.4 HIGH]


Patches_docker.io:
upstream_docker.io: needs-triage
trusty_docker.io: ignored (end of standard support)
xenial_docker.io: ignored (end of standard support)
esm-apps/xenial_docker.io: needs-triage
bionic_docker.io: ignored (end of standard support)
esm-apps/bionic_docker.io: needs-triage
focal_docker.io: needs-triage
esm-apps/focal_docker.io: needs-triage
jammy_docker.io: needs-triage
esm-apps/jammy_docker.io: needs-triage
mantic_docker.io: needs-triage
devel_docker.io: needs-triage

Patches_docker.io-app:
upstream_docker.io-app: needs-triage
trusty_docker.io-app: ignored (end of standard support)
xenial_docker.io-app: DNE
bionic_docker.io-app: DNE
focal_docker.io-app: needs-triage
jammy_docker.io-app: needs-triage
mantic_docker.io-app: needs-triage
devel_docker.io-app: needs-triage
