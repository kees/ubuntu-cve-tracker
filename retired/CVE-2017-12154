PublicDateAtUSN: 2017-09-26
Candidate: CVE-2017-12154
PublicDate: 2017-09-26 05:29:00 UTC
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-12154
 https://www.spinics.net/lists/kvm/msg155414.html
 https://ubuntu.com/security/notices/USN-3469-1
 https://ubuntu.com/security/notices/USN-3469-2
 https://ubuntu.com/security/notices/USN-3487-1
 https://ubuntu.com/security/notices/USN-3698-1
 https://ubuntu.com/security/notices/USN-3698-2
Description:
 The prepare_vmcs02 function in arch/x86/kvm/vmx.c in the Linux kernel
 through 4.13.3 does not ensure that the "CR8-load exiting" and "CR8-store
 exiting" L0 vmcs02 controls exist in cases where L1 omits the "use TPR
 shadow" vmcs12 control, which allows KVM L2 guest OS users to obtain read
 and write access to the hardware CR8 register.
Ubuntu-Description:
 It was discovered that the nested KVM implementation in the Linux kernel in
 some situations did not properly prevent second level guests from reading
 and writing the hardware CR8 register. A local attacker in a guest could
 use this to cause a denial of service (system crash).
Notes:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:N [7.1 HIGH]

Patches_linux:
 break-fix: - 51aa68e7d57e3217192d88ce90fd5b8ef29ec94f
upstream_linux: released (4.14~rc1)
precise/esm_linux: ignored (end of life, was needs-triage)
trusty_linux: released (3.13.0-153.203)
trusty/esm_linux: released (3.13.0-153.203)
vivid/ubuntu-core_linux: ignored (end of life, was needs-triage)
xenial_linux: released (4.4.0-98.121)
esm-infra/xenial_linux: released (4.4.0-98.121)
zesty_linux: ignored (end of life)
artful_linux: released (4.13.0-17.20)
bionic_linux: not-affected (4.13.0-17.20)
esm-infra/bionic_linux: not-affected (4.13.0-17.20)
devel_linux: not-affected (4.15.0-20.21)

Patches_linux-ti-omap4:
upstream_linux-ti-omap4: released (4.14~rc1)
precise/esm_linux-ti-omap4: DNE
trusty_linux-ti-omap4: DNE
trusty/esm_linux-ti-omap4: DNE
vivid/ubuntu-core_linux-ti-omap4: DNE
xenial_linux-ti-omap4: DNE
zesty_linux-ti-omap4: DNE
artful_linux-ti-omap4: DNE
bionic_linux-ti-omap4: DNE
devel_linux-ti-omap4: DNE

Patches_linux-linaro-omap:
upstream_linux-linaro-omap: released (4.14~rc1)
precise/esm_linux-linaro-omap: DNE
trusty_linux-linaro-omap: DNE
trusty/esm_linux-linaro-omap: DNE
vivid/ubuntu-core_linux-linaro-omap: DNE
xenial_linux-linaro-omap: DNE
zesty_linux-linaro-omap: DNE
artful_linux-linaro-omap: DNE
bionic_linux-linaro-omap: DNE
devel_linux-linaro-omap: DNE

Patches_linux-linaro-shared:
upstream_linux-linaro-shared: released (4.14~rc1)
precise/esm_linux-linaro-shared: DNE
trusty_linux-linaro-shared: DNE
trusty/esm_linux-linaro-shared: DNE
vivid/ubuntu-core_linux-linaro-shared: DNE
xenial_linux-linaro-shared: DNE
zesty_linux-linaro-shared: DNE
artful_linux-linaro-shared: DNE
bionic_linux-linaro-shared: DNE
devel_linux-linaro-shared: DNE

Patches_linux-linaro-vexpress:
upstream_linux-linaro-vexpress: released (4.14~rc1)
precise/esm_linux-linaro-vexpress: DNE
trusty_linux-linaro-vexpress: DNE
trusty/esm_linux-linaro-vexpress: DNE
vivid/ubuntu-core_linux-linaro-vexpress: DNE
xenial_linux-linaro-vexpress: DNE
zesty_linux-linaro-vexpress: DNE
artful_linux-linaro-vexpress: DNE
bionic_linux-linaro-vexpress: DNE
devel_linux-linaro-vexpress: DNE

Patches_linux-qcm-msm:
upstream_linux-qcm-msm: released (4.14~rc1)
precise/esm_linux-qcm-msm: DNE
trusty_linux-qcm-msm: DNE
trusty/esm_linux-qcm-msm: DNE
vivid/ubuntu-core_linux-qcm-msm: DNE
xenial_linux-qcm-msm: DNE
zesty_linux-qcm-msm: DNE
artful_linux-qcm-msm: DNE
bionic_linux-qcm-msm: DNE
devel_linux-qcm-msm: DNE

Tags_linux-armadaxp: not-ue
Patches_linux-armadaxp:
upstream_linux-armadaxp: released (4.14~rc1)
precise/esm_linux-armadaxp: DNE
trusty_linux-armadaxp: DNE
trusty/esm_linux-armadaxp: DNE
vivid/ubuntu-core_linux-armadaxp: DNE
xenial_linux-armadaxp: DNE
zesty_linux-armadaxp: DNE
artful_linux-armadaxp: DNE
bionic_linux-armadaxp: DNE
devel_linux-armadaxp: DNE

Tags_linux-lts-quantal: not-ue
Patches_linux-lts-quantal:
upstream_linux-lts-quantal: released (4.14~rc1)
precise/esm_linux-lts-quantal: ignored (end of life)
trusty_linux-lts-quantal: DNE
trusty/esm_linux-lts-quantal: DNE
vivid/ubuntu-core_linux-lts-quantal: DNE
xenial_linux-lts-quantal: DNE
zesty_linux-lts-quantal: DNE
artful_linux-lts-quantal: DNE
bionic_linux-lts-quantal: DNE
devel_linux-lts-quantal: DNE

Patches_linux-lts-raring:
upstream_linux-lts-raring: released (4.14~rc1)
precise/esm_linux-lts-raring: ignored (end of life)
trusty_linux-lts-raring: DNE
trusty/esm_linux-lts-raring: DNE
vivid/ubuntu-core_linux-lts-raring: DNE
xenial_linux-lts-raring: DNE
zesty_linux-lts-raring: DNE
artful_linux-lts-raring: DNE
bionic_linux-lts-raring: DNE
devel_linux-lts-raring: DNE

Tags_linux-lts-saucy: not-ue
Patches_linux-lts-saucy:
upstream_linux-lts-saucy: released (4.14~rc1)
precise/esm_linux-lts-saucy: ignored (end of life)
trusty_linux-lts-saucy: DNE
trusty/esm_linux-lts-saucy: DNE
vivid/ubuntu-core_linux-lts-saucy: DNE
xenial_linux-lts-saucy: DNE
zesty_linux-lts-saucy: DNE
artful_linux-lts-saucy: DNE
bionic_linux-lts-saucy: DNE
devel_linux-lts-saucy: DNE

Patches_linux-lts-trusty:
upstream_linux-lts-trusty: released (4.14~rc1)
precise/esm_linux-lts-trusty: released (3.13.0-153.203~precise1)
trusty_linux-lts-trusty: DNE
trusty/esm_linux-lts-trusty: DNE
vivid/ubuntu-core_linux-lts-trusty: DNE
xenial_linux-lts-trusty: DNE
zesty_linux-lts-trusty: DNE
artful_linux-lts-trusty: DNE
bionic_linux-lts-trusty: DNE
devel_linux-lts-trusty: DNE

Patches_linux-goldfish:
upstream_linux-goldfish: released (4.14~rc1)
precise/esm_linux-goldfish: DNE
trusty_linux-goldfish: ignored (end of standard support)
trusty/esm_linux-goldfish: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-goldfish: DNE
xenial_linux-goldfish: ignored (end of standard support, was needed)
esm-apps/xenial_linux-goldfish: ignored (end of life, was needed)
zesty_linux-goldfish: ignored (end of life)
artful_linux-goldfish: DNE
bionic_linux-goldfish: DNE
devel_linux-goldfish: DNE

Patches_linux-grouper:
upstream_linux-grouper: released (4.14~rc1)
precise/esm_linux-grouper: DNE
trusty_linux-grouper: ignored (end of standard support)
trusty/esm_linux-grouper: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-grouper: DNE
xenial_linux-grouper: DNE
zesty_linux-grouper: DNE
artful_linux-grouper: DNE
bionic_linux-grouper: DNE
devel_linux-grouper: DNE

Patches_linux-maguro:
upstream_linux-maguro: released (4.14~rc1)
precise/esm_linux-maguro: DNE
trusty_linux-maguro: ignored (end of standard support)
trusty/esm_linux-maguro: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-maguro: DNE
xenial_linux-maguro: DNE
zesty_linux-maguro: DNE
artful_linux-maguro: DNE
bionic_linux-maguro: DNE
devel_linux-maguro: DNE

Patches_linux-mako:
upstream_linux-mako: released (4.14~rc1)
precise/esm_linux-mako: DNE
trusty_linux-mako: ignored (end of standard support)
trusty/esm_linux-mako: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-mako: DNE
xenial_linux-mako: ignored (end of standard support)
esm-apps/xenial_linux-mako: ignored (abandoned)
zesty_linux-mako: DNE
artful_linux-mako: DNE
bionic_linux-mako: DNE
devel_linux-mako: DNE

Patches_linux-manta:
upstream_linux-manta: released (4.14~rc1)
precise/esm_linux-manta: DNE
trusty_linux-manta: ignored (end of standard support)
trusty/esm_linux-manta: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-manta: DNE
xenial_linux-manta: DNE
zesty_linux-manta: DNE
artful_linux-manta: DNE
bionic_linux-manta: DNE
devel_linux-manta: DNE

Patches_linux-flo:
upstream_linux-flo: released (4.14~rc1)
precise/esm_linux-flo: DNE
trusty_linux-flo: ignored (end of standard support)
trusty/esm_linux-flo: DNE (trusty was ignored [abandoned])
vivid/ubuntu-core_linux-flo: DNE
xenial_linux-flo: ignored (end of standard support)
esm-apps/xenial_linux-flo: ignored (abandoned)
zesty_linux-flo: DNE
artful_linux-flo: DNE
bionic_linux-flo: DNE
devel_linux-flo: DNE

Patches_linux-raspi2:
upstream_linux-raspi2: released (4.14~rc1)
precise/esm_linux-raspi2: DNE
trusty_linux-raspi2: DNE
trusty/esm_linux-raspi2: DNE
vivid/ubuntu-core_linux-raspi2: ignored (end of life)
xenial_linux-raspi2: released (4.4.0-1076.84)
zesty_linux-raspi2: ignored (end of life)
artful_linux-raspi2: released (4.13.0-1006.6)
bionic_linux-raspi2: not-affected (4.13.0-1006.6)
devel_linux-raspi2: not-affected (4.15.0-1010.11)

Patches_linux-lts-utopic:
upstream_linux-lts-utopic: released (4.14~rc1)
precise/esm_linux-lts-utopic: DNE
trusty_linux-lts-utopic: ignored (end of standard support)
trusty/esm_linux-lts-utopic: DNE (trusty was ignored [end of standard support])
vivid/ubuntu-core_linux-lts-utopic: DNE
xenial_linux-lts-utopic: DNE
zesty_linux-lts-utopic: DNE
artful_linux-lts-utopic: DNE
bionic_linux-lts-utopic: DNE
devel_linux-lts-utopic: DNE

Patches_linux-lts-vivid:
upstream_linux-lts-vivid: released (4.14~rc1)
precise/esm_linux-lts-vivid: DNE
trusty_linux-lts-vivid: ignored (end of standard support, was needs-triage)
trusty/esm_linux-lts-vivid: ignored (end of life, was needs-triage)
vivid/ubuntu-core_linux-lts-vivid: DNE
xenial_linux-lts-vivid: DNE
zesty_linux-lts-vivid: DNE
artful_linux-lts-vivid: DNE
bionic_linux-lts-vivid: DNE
devel_linux-lts-vivid: DNE

Patches_linux-lts-wily:
upstream_linux-lts-wily: released (4.14~rc1)
precise/esm_linux-lts-wily: DNE
trusty_linux-lts-wily: ignored (end of standard support)
trusty/esm_linux-lts-wily: DNE (trusty was ignored [end of standard support])
vivid/ubuntu-core_linux-lts-wily: DNE
xenial_linux-lts-wily: DNE
zesty_linux-lts-wily: DNE
artful_linux-lts-wily: DNE
bionic_linux-lts-wily: DNE
devel_linux-lts-wily: DNE

Patches_linux-lts-xenial:
upstream_linux-lts-xenial: released (4.14~rc1)
precise/esm_linux-lts-xenial: DNE
trusty_linux-lts-xenial: released (4.4.0-98.121~14.04.1)
trusty/esm_linux-lts-xenial: released (4.4.0-98.121~14.04.1)
vivid/ubuntu-core_linux-lts-xenial: DNE
xenial_linux-lts-xenial: DNE
zesty_linux-lts-xenial: DNE
artful_linux-lts-xenial: DNE
bionic_linux-lts-xenial: DNE
devel_linux-lts-xenial: DNE

Patches_linux-snapdragon:
upstream_linux-snapdragon: released (4.14~rc1)
precise/esm_linux-snapdragon: DNE
trusty_linux-snapdragon: DNE
trusty/esm_linux-snapdragon: DNE
vivid/ubuntu-core_linux-snapdragon: DNE
xenial_linux-snapdragon: released (4.4.0-1078.83)
zesty_linux-snapdragon: released (4.4.0-1078.83)
artful_linux-snapdragon: released (4.4.0-1078.83)
bionic_linux-snapdragon: not-affected
devel_linux-snapdragon: DNE

Patches_linux-aws:
upstream_linux-aws: released (4.14~rc1)
precise/esm_linux-aws: DNE
trusty_linux-aws: not-affected (4.4.0-1002.2)
trusty/esm_linux-aws: not-affected (4.4.0-1002.2)
vivid/ubuntu-core_linux-aws: DNE
xenial_linux-aws: released (4.4.0-1039.48)
esm-infra/xenial_linux-aws: released (4.4.0-1039.48)
zesty_linux-aws: DNE
artful_linux-aws: DNE
bionic_linux-aws: not-affected (4.15.0-1001.1)
esm-infra/bionic_linux-aws: not-affected (4.15.0-1001.1)
devel_linux-aws: not-affected (4.15.0-1007.7)

Patches_linux-hwe:
upstream_linux-hwe: released (4.14~rc1)
precise/esm_linux-hwe: DNE
trusty_linux-hwe: DNE
trusty/esm_linux-hwe: DNE
vivid/ubuntu-core_linux-hwe: DNE
xenial_linux-hwe: released (4.13.0-26.29~16.04.2)
esm-infra/xenial_linux-hwe: released (4.13.0-26.29~16.04.2)
zesty_linux-hwe: DNE
artful_linux-hwe: DNE
bionic_linux-hwe: not-affected
esm-infra/bionic_linux-hwe: not-affected
devel_linux-hwe: DNE

Patches_linux-hwe-edge:
upstream_linux-hwe-edge: released (4.14~rc1)
precise/esm_linux-hwe-edge: DNE
trusty_linux-hwe-edge: DNE
trusty/esm_linux-hwe-edge: DNE
vivid/ubuntu-core_linux-hwe-edge: DNE
xenial_linux-hwe-edge: released (4.13.0-26.29~16.04.2)
esm-infra/xenial_linux-hwe-edge: released (4.13.0-26.29~16.04.2)
zesty_linux-hwe-edge: DNE
artful_linux-hwe-edge: DNE
bionic_linux-hwe-edge: released (4.18.0-8.9~18.04.1)
esm-infra/bionic_linux-hwe-edge: released (4.18.0-8.9~18.04.1)
devel_linux-hwe-edge: DNE

Patches_linux-gke:
upstream_linux-gke: released (4.14~rc1)
precise/esm_linux-gke: DNE
trusty_linux-gke: DNE
trusty/esm_linux-gke: DNE
vivid/ubuntu-core_linux-gke: DNE
xenial_linux-gke: released (4.4.0-1033.33)
zesty_linux-gke: DNE
artful_linux-gke: DNE
bionic_linux-gke: DNE
devel_linux-gke: DNE

Patches_linux-azure:
upstream_linux-azure: released (4.14~rc1)
precise/esm_linux-azure: DNE
trusty_linux-azure: not-affected (4.15.0-1023.24~14.04.1)
trusty/esm_linux-azure: not-affected (4.15.0-1023.24~14.04.1)
vivid/ubuntu-core_linux-azure: DNE
xenial_linux-azure: released (4.13.0-1005.7)
esm-infra/xenial_linux-azure: released (4.13.0-1005.7)
zesty_linux-azure: DNE
artful_linux-azure: DNE
bionic_linux-azure: not-affected (4.15.0-1002.2)
esm-infra/bionic_linux-azure: not-affected (4.15.0-1002.2)
devel_linux-azure: not-affected (4.15.0-1009.9)

Patches_linux-gcp:
upstream_linux-gcp: released (4.14~rc1)
precise/esm_linux-gcp: DNE
trusty_linux-gcp: DNE
trusty/esm_linux-gcp: DNE
vivid/ubuntu-core_linux-gcp: DNE
xenial_linux-gcp: released (4.13.0-1002.5)
esm-infra/xenial_linux-gcp: released (4.13.0-1002.5)
zesty_linux-gcp: DNE
artful_linux-gcp: DNE
bionic_linux-gcp: not-affected (4.15.0-1001.1)
esm-infra/bionic_linux-gcp: not-affected (4.15.0-1001.1)
devel_linux-gcp: not-affected (4.15.0-1006.6)

Patches_linux-kvm:
upstream_linux-kvm: released (4.14~rc1)
precise/esm_linux-kvm: DNE
trusty_linux-kvm: DNE
trusty/esm_linux-kvm: DNE
vivid/ubuntu-core_linux-kvm: DNE
xenial_linux-kvm: released (4.4.0-1009.14)
esm-infra/xenial_linux-kvm: released (4.4.0-1009.14)
zesty_linux-kvm: DNE
artful_linux-kvm: DNE
bionic_linux-kvm: not-affected (4.15.0-1002.2)
esm-infra/bionic_linux-kvm: not-affected (4.15.0-1002.2)
devel_linux-kvm: not-affected (4.15.0-1008.8)

Patches_linux-euclid:
upstream_linux-euclid: released (4.14~rc1)
precise/esm_linux-euclid: DNE
trusty_linux-euclid: DNE
trusty/esm_linux-euclid: DNE
vivid/ubuntu-core_linux-euclid: DNE
xenial_linux-euclid: ignored (end of standard support, was needed)
esm-apps/xenial_linux-euclid: ignored (was needed ESM criteria)
zesty_linux-euclid: DNE
artful_linux-euclid: DNE
bionic_linux-euclid: DNE
devel_linux-euclid: DNE

Patches_linux-oem:
upstream_linux-oem: released (4.14~rc1)
precise/esm_linux-oem: DNE
trusty_linux-oem: DNE
trusty/esm_linux-oem: DNE
xenial_linux-oem: not-affected (4.13.0-1008.9)
zesty_linux-oem: DNE
artful_linux-oem: DNE
bionic_linux-oem: not-affected (4.15.0-1002.3)
esm-infra/bionic_linux-oem: not-affected (4.15.0-1002.3)
devel_linux-oem: not-affected (4.15.0-1004.5)
